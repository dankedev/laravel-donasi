import{r as y,X as le,j as c,O as de,$ as ce,B as O,z as T,Z as ie,x as ue,c as j,G as me,f as S,u as B,l as F,b as ye,d as fe,k as xe,g as pe}from"./app-CGQQ-ZlW.js";import{c as H}from"./create-safe-context-50zDxaJY.js";import{u as Me,a as he,F as ve}from"./FocusTrap-CDHUeOCU.js";import{P as Se,c as Be}from"./Paper-CIYb7ukR.js";import{u as Ne,T as Z}from"./Button-MZvmU7_O.js";import{O as ge}from"./Overlay-Cnr7V7lH.js";const[je,h]=H("ModalBase component was not found in tree");function we({opened:e,transitionDuration:t}){const[s,a]=y.useState(e),n=y.useRef(-1),r=le()?0:t;return y.useEffect(()=>(e?(a(!0),window.clearTimeout(n.current)):r===0?a(!1):n.current=window.setTimeout(()=>a(!1),r),()=>window.clearTimeout(n.current)),[e,r]),s}function Ie({id:e,transitionProps:t,opened:s,trapFocus:a,closeOnEscape:n,onClose:l,returnFocus:r}){const o=Ne(e),[i,d]=y.useState(!1),[u,f]=y.useState(!1),x=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,m=we({opened:s,transitionDuration:x});return Me("keydown",N=>{var M;N.key==="Escape"&&n&&s&&((M=N.target)==null?void 0:M.getAttribute("data-mantine-stop-propagation"))!=="true"&&l()},{capture:!0}),he({opened:s,shouldReturnFocus:a&&r}),{_id:o,titleMounted:i,bodyMounted:u,shouldLockScroll:m,setTitleMounted:d,setBodyMounted:f}}const A=y.forwardRef(({keepMounted:e,opened:t,onClose:s,id:a,transitionProps:n,onExitTransitionEnd:l,onEnterTransitionEnd:r,trapFocus:o,closeOnEscape:i,returnFocus:d,closeOnClickOutside:u,withinPortal:f,portalProps:x,lockScroll:m,children:N,zIndex:M,shadow:g,padding:b,__vars:X,unstyled:q,removeScrollProps:J,...Q},Y)=>{const{_id:z,titleMounted:ee,bodyMounted:te,shouldLockScroll:se,setTitleMounted:oe,setBodyMounted:ae}=Ie({id:a,transitionProps:n,opened:t,trapFocus:o,closeOnEscape:i,onClose:s,returnFocus:d}),{key:ne,...re}=J||{};return c.jsx(de,{...x,withinPortal:f,children:c.jsx(je,{value:{opened:t,onClose:s,closeOnClickOutside:u,onExitTransitionEnd:l,onEnterTransitionEnd:r,transitionProps:{...n,keepMounted:e},getTitleId:()=>`${z}-title`,getBodyId:()=>`${z}-body`,titleMounted:ee,bodyMounted:te,setTitleMounted:oe,setBodyMounted:ae,trapFocus:o,closeOnEscape:i,zIndex:M,unstyled:q},children:c.jsx(ce,{enabled:se&&m,...re,children:c.jsx(O,{ref:Y,...Q,__vars:{...X,"--mb-z-index":(M||T("modal")).toString(),"--mb-shadow":ie(g),"--mb-padding":ue(b)},children:N})},ne)})})});A.displayName="@mantine/core/ModalBase";function Te(){const e=h();return y.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var w={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const L=y.forwardRef(({className:e,...t},s)=>{const a=Te(),n=h();return c.jsx(O,{ref:s,...t,id:a,className:j({[w.body]:!n.unstyled},e)})});L.displayName="@mantine/core/ModalBaseBody";const D=y.forwardRef(({className:e,onClick:t,...s},a)=>{const n=h();return c.jsx(me,{ref:a,...s,onClick:l=>{n.onClose(),t==null||t(l)},className:j({[w.close]:!n.unstyled},e),unstyled:n.unstyled})});D.displayName="@mantine/core/ModalBaseCloseButton";const K=y.forwardRef(({transitionProps:e,className:t,innerProps:s,onKeyDown:a,style:n,...l},r)=>{const o=h();return c.jsx(Z,{mounted:o.opened,transition:"pop",...o.transitionProps,onExited:()=>{var i,d,u;(i=o.onExitTransitionEnd)==null||i.call(o),(u=(d=o.transitionProps)==null?void 0:d.onExited)==null||u.call(d)},onEntered:()=>{var i,d,u;(i=o.onEnterTransitionEnd)==null||i.call(o),(u=(d=o.transitionProps)==null?void 0:d.onEntered)==null||u.call(d)},...e,children:i=>c.jsx("div",{...s,className:j({[w.inner]:!o.unstyled},s.className),children:c.jsx(ve,{active:o.opened&&o.trapFocus,innerRef:r,children:c.jsx(Se,{...l,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":o.bodyMounted?o.getBodyId():void 0,"aria-labelledby":o.titleMounted?o.getTitleId():void 0,style:[n,i],className:j({[w.content]:!o.unstyled},t),unstyled:o.unstyled,children:l.children})})})})});K.displayName="@mantine/core/ModalBaseContent";const V=y.forwardRef(({className:e,...t},s)=>{const a=h();return c.jsx(O,{component:"header",ref:s,className:j({[w.header]:!a.unstyled},e),...t})});V.displayName="@mantine/core/ModalBaseHeader";const be={duration:200,timingFunction:"ease",transition:"fade"};function Oe(e){const t=h();return{...be,...t.transitionProps,...e}}const G=y.forwardRef(({onClick:e,transitionProps:t,style:s,visible:a,...n},l)=>{const r=h(),o=Oe(t);return c.jsx(Z,{mounted:a!==void 0?a:r.opened,...o,transition:"fade",children:i=>c.jsx(ge,{ref:l,fixed:!0,style:[s,i],zIndex:r.zIndex,unstyled:r.unstyled,onClick:d=>{e==null||e(d),r.closeOnClickOutside&&r.onClose()},...n})})});G.displayName="@mantine/core/ModalBaseOverlay";function _e(){const e=h();return y.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const U=y.forwardRef(({className:e,...t},s)=>{const a=_e(),n=h();return c.jsx(O,{component:"h2",ref:s,className:j({[w.title]:!n.unstyled},e),...t,id:a})});U.displayName="@mantine/core/ModalBaseTitle";function Re({children:e}){return c.jsx(c.Fragment,{children:e})}const[Ce,I]=H("Modal component was not found in tree");var v={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const ke={},_=S((e,t)=>{const s=B("ModalBody",ke,e),{classNames:a,className:n,style:l,styles:r,vars:o,...i}=s,d=I();return c.jsx(L,{ref:t,...d.getStyles("body",{classNames:a,style:l,styles:r,className:n}),...i})});_.classes=v;_.displayName="@mantine/core/ModalBody";const Ee={},R=S((e,t)=>{const s=B("ModalCloseButton",Ee,e),{classNames:a,className:n,style:l,styles:r,vars:o,...i}=s,d=I();return c.jsx(D,{ref:t,...d.getStyles("close",{classNames:a,style:l,styles:r,className:n}),...i})});R.classes=v;R.displayName="@mantine/core/ModalCloseButton";const Pe={},C=S((e,t)=>{const s=B("ModalContent",Pe,e),{classNames:a,className:n,style:l,styles:r,vars:o,children:i,__hidden:d,...u}=s,f=I(),x=f.scrollAreaComponent||Re;return c.jsx(K,{...f.getStyles("content",{className:n,style:l,styles:r,classNames:a}),innerProps:f.getStyles("inner",{className:n,style:l,styles:r,classNames:a}),"data-full-screen":f.fullScreen||void 0,"data-modal-content":!0,"data-hidden":d||void 0,ref:t,...u,children:c.jsx(x,{style:{maxHeight:f.fullScreen?"100dvh":`calc(100dvh - (${F(f.yOffset)} * 2))`},children:i})})});C.classes=v;C.displayName="@mantine/core/ModalContent";const $e={},k=S((e,t)=>{const s=B("ModalHeader",$e,e),{classNames:a,className:n,style:l,styles:r,vars:o,...i}=s,d=I();return c.jsx(V,{ref:t,...d.getStyles("header",{classNames:a,style:l,styles:r,className:n}),...i})});k.classes=v;k.displayName="@mantine/core/ModalHeader";const Fe={},E=S((e,t)=>{const s=B("ModalOverlay",Fe,e),{classNames:a,className:n,style:l,styles:r,vars:o,...i}=s,d=I();return c.jsx(G,{ref:t,...d.getStyles("overlay",{classNames:a,style:l,styles:r,className:n}),...i})});E.classes=v;E.displayName="@mantine/core/ModalOverlay";const ze={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:T("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},He=fe((e,{radius:t,size:s,yOffset:a,xOffset:n})=>({root:{"--modal-radius":t===void 0?void 0:xe(t),"--modal-size":pe(s,"modal-size"),"--modal-y-offset":F(a),"--modal-x-offset":F(n)}})),P=S((e,t)=>{const s=B("ModalRoot",ze,e),{classNames:a,className:n,style:l,styles:r,unstyled:o,vars:i,yOffset:d,scrollAreaComponent:u,radius:f,fullScreen:x,centered:m,xOffset:N,__staticSelector:M,...g}=s,b=ye({name:M,classes:v,props:s,className:n,style:l,classNames:a,styles:r,unstyled:o,vars:i,varsResolver:He});return c.jsx(Ce,{value:{yOffset:d,scrollAreaComponent:u,getStyles:b,fullScreen:x},children:c.jsx(A,{ref:t,...b("root"),"data-full-screen":x||void 0,"data-centered":m||void 0,unstyled:o,...g})})});P.classes=v;P.displayName="@mantine/core/ModalRoot";const[Ze,Ae]=Be();function W({children:e}){const[t,s]=y.useState([]),[a,n]=y.useState(T("modal"));return c.jsx(Ze,{value:{stack:t,addModal:(l,r)=>{s(o=>[...new Set([...o,l])]),n(o=>typeof r=="number"&&typeof o=="number"?Math.max(o,r):o)},removeModal:l=>s(r=>r.filter(o=>o!==l)),getZIndex:l=>`calc(${a} + ${t.indexOf(l)} + 1)`,currentId:t[t.length-1],maxZIndex:a},children:e})}W.displayName="@mantine/core/ModalStack";const Le={},$=S((e,t)=>{const s=B("ModalTitle",Le,e),{classNames:a,className:n,style:l,styles:r,vars:o,...i}=s,d=I();return c.jsx(U,{ref:t,...d.getStyles("title",{classNames:a,style:l,styles:r,className:n}),...i})});$.classes=v;$.displayName="@mantine/core/ModalTitle";const De={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:T("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},p=S((e,t)=>{const{title:s,withOverlay:a,overlayProps:n,withCloseButton:l,closeButtonProps:r,children:o,radius:i,opened:d,stackId:u,zIndex:f,...x}=B("Modal",De,e),m=Ae(),N=!!s||l,M=m&&u?{closeOnEscape:m.currentId===u,trapFocus:m.currentId===u,zIndex:m.getZIndex(u)}:{},g=a===!1?!1:u&&m?m.currentId===u:d;return y.useEffect(()=>{m&&u&&(d?m.addModal(u,f||T("modal")):m.removeModal(u))},[d,u,f]),c.jsxs(P,{ref:t,radius:i,opened:d,zIndex:m&&u?m.getZIndex(u):f,...x,...M,children:[a&&c.jsx(E,{visible:g,transitionProps:m&&u?{duration:0}:void 0,...n}),c.jsxs(C,{radius:i,__hidden:m&&u&&d?u!==m.currentId:!1,children:[N&&c.jsxs(k,{children:[s&&c.jsx($,{children:s}),l&&c.jsx(R,{...r})]}),c.jsx(_,{children:o})]})]})});p.classes=v;p.displayName="@mantine/core/Modal";p.Root=P;p.Overlay=E;p.Content=C;p.Body=_;p.Header=k;p.Title=$;p.CloseButton=R;p.Stack=W;export{p as M};
