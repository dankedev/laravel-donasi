import{m as qe,f as le,u as T,b as Q,j as C,k as H,d as ne,l as X,i as se,a as Me,r as d,v as pe,e as ze,g as $e,o as Ke,Q as xe,_ as He,A as Ue,h as Xe,G as Qe}from"./app-f26vJc_D.js";const[Ze,ye]=qe({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var L={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const Ce={},Je=ne((t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${X(e)} - ${se(2)})`}})),me=le((t,e)=>{const r=T("InputDescription",Ce,t),{classNames:n,className:s,style:o,styles:i,unstyled:u,vars:c,size:l,__staticSelector:m,__inheritStyles:b=!0,variant:S,...E}=T("InputDescription",Ce,r),_=ye(),a=Q({name:["InputWrapper",m],props:r,classes:L,className:s,style:o,classNames:n,styles:i,unstyled:u,rootSelector:"description",vars:c,varsResolver:Je}),f=b&&(_==null?void 0:_.getStyles)||a;return C.jsx(H,{component:"p",ref:e,variant:S,size:l,...f("description",_!=null&&_.getStyles?{className:s,style:o}:void 0),...E})});me.classes=L;me.displayName="@mantine/core/InputDescription";const Ye={},Ge=ne((t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${X(e)} - ${se(2)})`}})),be=le((t,e)=>{const r=T("InputError",Ye,t),{classNames:n,className:s,style:o,styles:i,unstyled:u,vars:c,size:l,__staticSelector:m,__inheritStyles:b=!0,variant:S,...E}=r,_=Q({name:["InputWrapper",m],props:r,classes:L,className:s,style:o,classNames:n,styles:i,unstyled:u,rootSelector:"error",vars:c,varsResolver:Ge}),a=ye(),f=b&&(a==null?void 0:a.getStyles)||_;return C.jsx(H,{component:"p",ref:e,variant:S,size:l,...f("error",a!=null&&a.getStyles?{className:s,style:o}:void 0),...E})});be.classes=L;be.displayName="@mantine/core/InputError";const Pe={labelElement:"label"},et=ne((t,{size:e})=>({label:{"--input-label-size":X(e),"--input-asterisk-color":void 0}})),ge=le((t,e)=>{const r=T("InputLabel",Pe,t),{classNames:n,className:s,style:o,styles:i,unstyled:u,vars:c,labelElement:l,size:m,required:b,htmlFor:S,onMouseDown:E,children:_,__staticSelector:a,variant:f,mod:h,...v}=T("InputLabel",Pe,r),g=Q({name:["InputWrapper",a],props:r,classes:L,className:s,style:o,classNames:n,styles:i,unstyled:u,rootSelector:"label",vars:c,varsResolver:et}),F=ye(),$=(F==null?void 0:F.getStyles)||g;return C.jsxs(H,{...$("label",F!=null&&F.getStyles?{className:s,style:o}:void 0),component:l,variant:f,size:m,ref:e,htmlFor:l==="label"?S:void 0,mod:[{required:b},h],onMouseDown:y=>{E==null||E(y),!y.defaultPrevented&&y.detail>1&&y.preventDefault()},...v,children:[_,b&&C.jsx("span",{...$("required"),"aria-hidden":!0,children:" *"})]})});ge.classes=L;ge.displayName="@mantine/core/InputLabel";const ke={},Ie=le((t,e)=>{const r=T("InputPlaceholder",ke,t),{classNames:n,className:s,style:o,styles:i,unstyled:u,vars:c,__staticSelector:l,variant:m,error:b,mod:S,...E}=T("InputPlaceholder",ke,r),_=Q({name:["InputPlaceholder",l],props:r,classes:L,className:s,style:o,classNames:n,styles:i,unstyled:u,rootSelector:"placeholder"});return C.jsx(H,{..._("placeholder"),mod:[{error:!!b},S],component:"span",variant:m,ref:e,...E})});Ie.classes=L;Ie.displayName="@mantine/core/InputPlaceholder";function tt(t,{hasDescription:e,hasError:r}){const n=t.findIndex(c=>c==="input"),s=t.slice(0,n),o=t.slice(n+1),i=e&&s.includes("description")||r&&s.includes("error");return{offsetBottom:e&&o.includes("description")||r&&o.includes("error"),offsetTop:i}}const rt={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},st=ne((t,{size:e})=>({label:{"--input-label-size":X(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${X(e)} - ${se(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${X(e)} - ${se(2)})`}})),je=le((t,e)=>{const r=T("InputWrapper",rt,t),{classNames:n,className:s,style:o,styles:i,unstyled:u,vars:c,size:l,variant:m,__staticSelector:b,inputContainer:S,inputWrapperOrder:E,label:_,error:a,description:f,labelProps:h,descriptionProps:v,errorProps:g,labelElement:F,children:$,withAsterisk:y,id:V,required:j,__stylesApiProps:k,mod:O,...M}=r,K=Q({name:["InputWrapper",b],props:k||r,classes:L,className:s,style:o,classNames:n,styles:i,unstyled:u,vars:c,varsResolver:st}),R={size:l,variant:m,__staticSelector:b},z=Me(V),Z=typeof y=="boolean"?y:j,J=(g==null?void 0:g.id)||`${z}-error`,Y=(v==null?void 0:v.id)||`${z}-description`,G=z,U=!!a&&typeof a!="boolean",P=!!f,ee=`${U?J:""} ${P?Y:""}`,x=ee.trim().length>0?ee.trim():void 0,te=(h==null?void 0:h.id)||`${z}-label`,oe=_&&C.jsx(ge,{labelElement:F,id:te,htmlFor:G,required:Z,...R,...h,children:_},"label"),p=P&&C.jsx(me,{...v,...R,size:(v==null?void 0:v.size)||R.size,id:(v==null?void 0:v.id)||Y,children:f},"description"),I=C.jsx(d.Fragment,{children:S($)},"input"),w=U&&d.createElement(be,{...g,...R,size:(g==null?void 0:g.size)||R.size,key:"error",id:(g==null?void 0:g.id)||J},a),A=E.map(B=>{switch(B){case"label":return oe;case"input":return I;case"description":return p;case"error":return w;default:return null}});return C.jsx(Ze,{value:{getStyles:K,describedBy:x,inputId:G,labelId:te,...tt(E,{hasDescription:P,hasError:U})},children:C.jsx(H,{ref:e,variant:m,size:l,mod:[{error:!!a},O],...K("root"),...M,children:A})})});je.classes=L;je.displayName="@mantine/core/InputWrapper";const nt={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},ot=ne((t,e,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":$e(e.size,"input-height"),"--input-fz":X(e.size),"--input-radius":e.radius===void 0?void 0:Ke(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?se(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?se(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?$e(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}})),W=pe((t,e)=>{const r=T("Input",nt,t),{classNames:n,className:s,style:o,styles:i,unstyled:u,required:c,__staticSelector:l,__stylesApiProps:m,size:b,wrapperProps:S,error:E,disabled:_,leftSection:a,leftSectionProps:f,leftSectionWidth:h,rightSection:v,rightSectionProps:g,rightSectionWidth:F,rightSectionPointerEvents:$,leftSectionPointerEvents:y,variant:V,vars:j,pointer:k,multiline:O,radius:M,id:K,withAria:R,withErrorStyles:z,mod:Z,inputSize:J,...Y}=r,{styleProps:G,rest:U}=ze(Y),P=ye(),ee={offsetBottom:P==null?void 0:P.offsetBottom,offsetTop:P==null?void 0:P.offsetTop},x=Q({name:["Input",l],props:m||r,classes:L,className:s,style:o,classNames:n,styles:i,unstyled:u,stylesCtx:ee,rootSelector:"wrapper",vars:j,varsResolver:ot}),te=R?{required:c,disabled:_,"aria-invalid":!!E,"aria-describedby":P==null?void 0:P.describedBy,id:(P==null?void 0:P.inputId)||K}:{};return C.jsxs(H,{...x("wrapper"),...G,...S,mod:[{error:!!E&&z,pointer:k,disabled:_,multiline:O,"data-with-right-section":!!v,"data-with-left-section":!!a},Z],variant:V,size:b,children:[a&&C.jsx("div",{...f,"data-position":"left",...x("section",{className:f==null?void 0:f.className,style:f==null?void 0:f.style}),children:a}),C.jsx(H,{component:"input",...U,...te,ref:e,required:c,mod:{disabled:_,error:!!E&&z},variant:V,__size:J,...x("input")}),v&&C.jsx("div",{...g,"data-position":"right",...x("section",{className:g==null?void 0:g.className,style:g==null?void 0:g.style}),children:v})]})});W.classes=L;W.Wrapper=je;W.Label=ge;W.Error=be;W.Description=me;W.Placeholder=Ie;W.displayName="@mantine/core/Input";function it(t,e,r){const n=T(t,e,r),{label:s,description:o,error:i,required:u,classNames:c,styles:l,className:m,unstyled:b,__staticSelector:S,__stylesApiProps:E,errorProps:_,labelProps:a,descriptionProps:f,wrapperProps:h,id:v,size:g,style:F,inputContainer:$,inputWrapperOrder:y,withAsterisk:V,variant:j,vars:k,mod:O,...M}=n,{styleProps:K,rest:R}=ze(M),z={label:s,description:o,error:i,required:u,classNames:c,className:m,__staticSelector:S,__stylesApiProps:E||n,errorProps:_,labelProps:a,descriptionProps:f,unstyled:b,styles:l,size:g,style:F,inputContainer:$,inputWrapperOrder:y,withAsterisk:V,variant:j,id:v,mod:O,...h};return{...R,classNames:c,styles:l,unstyled:b,wrapperProps:{...z,...K},inputProps:{required:u,classNames:c,styles:l,unstyled:b,size:g,__staticSelector:S,__stylesApiProps:E||n,error:i,variant:j,id:v}}}const ct={__staticSelector:"InputBase",withAria:!0},We=pe((t,e)=>{const{inputProps:r,wrapperProps:n,...s}=it("InputBase",ct,t);return C.jsx(W.Wrapper,{...n,children:C.jsx(W,{...r,...s,ref:e})})});We.classes={...W.classes,...W.Wrapper.classes};We.displayName="@mantine/core/InputBase";const[lt,at]=xe("Card component was not found in tree");var Fe={root:"m_e615b15f",section:"m_599a2148"};const ut={},Se=pe((t,e)=>{const r=T("CardSection",ut,t),{classNames:n,className:s,style:o,styles:i,vars:u,withBorder:c,inheritPadding:l,mod:m,...b}=r,S=at();return C.jsx(H,{ref:e,mod:[{"with-border":c,"inherit-padding":l},m],...S.getStyles("section",{className:s,style:o,styles:i,classNames:n}),...b})});Se.classes=Fe;Se.displayName="@mantine/core/CardSection";const dt={},ft=ne((t,{padding:e})=>({root:{"--card-padding":Ue(e)}})),we=pe((t,e)=>{const r=T("Card",dt,t),{classNames:n,className:s,style:o,styles:i,unstyled:u,vars:c,children:l,padding:m,...b}=r,S=Q({name:"Card",props:r,classes:Fe,className:s,style:o,classNames:n,styles:i,unstyled:u,vars:c,varsResolver:ft}),E=d.Children.toArray(l),_=E.map((a,f)=>typeof a=="object"&&a&&"type"in a&&a.type===Se?d.cloneElement(a,{"data-first-section":f===0||void 0,"data-last-section":f===E.length-1||void 0}):a);return C.jsx(lt,{value:{getStyles:S},children:C.jsx(He,{ref:e,unstyled:u,...S("root"),...b,children:_})})});we.classes=Fe;we.displayName="@mantine/core/Card";we.Section=Se;function pt(t){if(!/^[0-9a-zA-Z-]+$/.test(t))throw new Error(`[@mantine/use-form] Form name "${t}" is invalid, it should contain only letters, numbers and dashes`)}const yt=typeof window<"u"?d.useLayoutEffect:d.useEffect;function D(t,e){yt(()=>{if(t)return window.addEventListener(t,e),()=>window.removeEventListener(t,e)},[t])}function mt(t,e){t&&pt(t),D(`mantine-form:${t}:set-field-value`,r=>e.setFieldValue(r.detail.path,r.detail.value)),D(`mantine-form:${t}:set-values`,r=>e.setValues(r.detail)),D(`mantine-form:${t}:set-initial-values`,r=>e.setInitialValues(r.detail)),D(`mantine-form:${t}:set-errors`,r=>e.setErrors(r.detail)),D(`mantine-form:${t}:set-field-error`,r=>e.setFieldError(r.detail.path,r.detail.error)),D(`mantine-form:${t}:clear-field-error`,r=>e.clearFieldError(r.detail)),D(`mantine-form:${t}:clear-errors`,e.clearErrors),D(`mantine-form:${t}:reset`,e.reset),D(`mantine-form:${t}:validate`,e.validate),D(`mantine-form:${t}:validate-field`,r=>e.validateField(r.detail)),D(`mantine-form:${t}:reorder-list-item`,r=>e.reorderListItem(r.detail.path,r.detail.payload)),D(`mantine-form:${t}:remove-list-item`,r=>e.removeListItem(r.detail.path,r.detail.index)),D(`mantine-form:${t}:insert-list-item`,r=>e.insertListItem(r.detail.path,r.detail.item,r.detail.index)),D(`mantine-form:${t}:set-dirty`,r=>e.setDirty(r.detail)),D(`mantine-form:${t}:set-touched`,r=>e.setTouched(r.detail)),D(`mantine-form:${t}:reset-dirty`,r=>e.resetDirty(r.detail)),D(`mantine-form:${t}:reset-touched`,e.resetTouched)}function bt(t){return e=>{if(!e)t(e);else if(typeof e=="function")t(e);else if(typeof e=="object"&&"nativeEvent"in e){const{currentTarget:r}=e;r instanceof HTMLInputElement?r.type==="checkbox"?t(r.checked):t(r.value):(r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement)&&t(r.value)}else t(e)}}function ve(t){return t===null||typeof t!="object"?{}:Object.keys(t).reduce((e,r)=>{const n=t[r];return n!=null&&n!==!1&&(e[r]=n),e},{})}function gt(t){const[e,r]=d.useState(ve(t)),n=d.useRef(e),s=d.useCallback(c=>{r(l=>{const m=ve(typeof c=="function"?c(l):c);return n.current=m,m})},[]),o=d.useCallback(()=>s({}),[]),i=d.useCallback(c=>{n.current[c]!==void 0&&s(l=>{const m={...l};return delete m[c],m})},[e]),u=d.useCallback((c,l)=>{l==null||l===!1?i(c):n.current[c]!==l&&s(m=>({...m,[c]:l}))},[e]);return{errorsState:e,setErrors:s,clearErrors:o,setFieldError:u,clearFieldError:i}}function Ee(t,e){if(e===null||typeof e!="object")return{};const r={...e};return Object.keys(e).forEach(n=>{n.includes(`${String(t)}.`)&&delete r[n]}),r}function De(t,e){const r=t.substring(e.length+1).split(".")[0];return parseInt(r,10)}function Ne(t,e,r,n){if(e===void 0)return r;const s=`${String(t)}`;let o=r;n===-1&&(o=Ee(`${s}.${e}`,o));const i={...o},u=new Set;return Object.entries(o).filter(([c])=>{if(!c.startsWith(`${s}.`))return!1;const l=De(c,s);return Number.isNaN(l)?!1:l>=e}).forEach(([c,l])=>{const m=De(c,s),b=c.replace(`${s}.${m}`,`${s}.${m+n}`);i[b]=l,u.add(b),u.has(c)||delete i[c]}),i}function St(t,{from:e,to:r},n){const s=`${t}.${e}`,o=`${t}.${r}`,i={...n};return Object.keys(n).every(u=>{let c,l;if(u.startsWith(s)&&(c=u,l=u.replace(s,o)),u.startsWith(o)&&(c=u.replace(o,s),l=u),c&&l){const m=i[c],b=i[l];return b===void 0?delete i[c]:i[c]=b,m===void 0?delete i[l]:i[l]=m,!1}return!0}),i}function Oe(t,e,r){typeof r.value=="object"&&(r.value=re(r.value)),!r.enumerable||r.get||r.set||!r.configurable||!r.writable||e==="__proto__"?Object.defineProperty(t,e,r):t[e]=r.value}function re(t){if(typeof t!="object")return t;var e=0,r,n,s,o=Object.prototype.toString.call(t);if(o==="[object Object]"?s=Object.create(t.__proto__||null):o==="[object Array]"?s=Array(t.length):o==="[object Set]"?(s=new Set,t.forEach(function(i){s.add(re(i))})):o==="[object Map]"?(s=new Map,t.forEach(function(i,u){s.set(re(u),re(i))})):o==="[object Date]"?s=new Date(+t):o==="[object RegExp]"?s=new RegExp(t.source,t.flags):o==="[object DataView]"?s=new t.constructor(re(t.buffer)):o==="[object ArrayBuffer]"?s=t.slice(0):o.slice(-6)==="Array]"&&(s=new t.constructor(t)),s){for(n=Object.getOwnPropertySymbols(t);e<n.length;e++)Oe(s,n[e],Object.getOwnPropertyDescriptor(t,n[e]));for(e=0,n=Object.getOwnPropertyNames(t);e<n.length;e++)Object.hasOwnProperty.call(s,r=n[e])&&s[r]===t[r]||Oe(s,r,Object.getOwnPropertyDescriptor(t,r))}return s||t}function Be(t){return typeof t!="string"?[]:t.split(".")}function N(t,e){const r=Be(t);if(r.length===0||typeof e!="object"||e===null)return;let n=e[r[0]];for(let s=1;s<r.length&&n!=null;s+=1)n=n[r[s]];return n}function ae(t,e,r){const n=Be(t);if(n.length===0)return r;const s=re(r);if(n.length===1)return s[n[0]]=e,s;let o=s[n[0]];for(let i=1;i<n.length-1;i+=1){if(o===void 0)return s;o=o[n[i]]}return o[n[n.length-1]]=e,s}function ht(t,{from:e,to:r},n){const s=N(t,n);if(!Array.isArray(s))return n;const o=[...s],i=s[e];return o.splice(e,1),o.splice(r,0,i),ae(t,o,n)}function vt(t,e,r,n){const s=N(t,n);if(!Array.isArray(s))return n;const o=[...s];return o.splice(typeof r=="number"?r:o.length,0,e),ae(t,o,n)}function Et(t,e,r){const n=N(t,r);return Array.isArray(n)?ae(t,n.filter((s,o)=>o!==e),r):r}function _t(t,e,r,n){const s=N(t,n);if(!Array.isArray(s)||s.length<=r)return n;const o=[...s];return o[r]=e,ae(t,o,n)}function Vt({$values:t,$errors:e,$status:r}){const n=d.useCallback((u,c)=>{r.clearFieldDirty(u),e.setErrors(l=>St(u,c,l)),t.setValues({values:ht(u,c,t.refValues.current),updateState:!0})},[]),s=d.useCallback((u,c)=>{r.clearFieldDirty(u),e.setErrors(l=>Ne(u,c,l,-1)),t.setValues({values:Et(u,c,t.refValues.current),updateState:!0})},[]),o=d.useCallback((u,c,l)=>{r.clearFieldDirty(u),e.setErrors(m=>Ne(u,l,m,1)),t.setValues({values:vt(u,c,l,t.refValues.current),updateState:!0})},[]),i=d.useCallback((u,c,l)=>{r.clearFieldDirty(u),t.setValues({values:_t(u,l,c,t.refValues.current),updateState:!0})},[]);return{reorderListItem:n,removeListItem:s,insertListItem:o,replaceListItem:i}}var he,Re;function It(){return Re||(Re=1,he=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[s]))return!1;for(s=n;s--!==0;){var i=o[s];if(!t(e[i],r[i]))return!1}return!0}return e!==e&&r!==r}),he}var jt=It();const de=Xe(jt);function ce(t,e){const r=Object.keys(t);if(typeof e=="string"){const n=r.filter(s=>s.startsWith(`${e}.`));return t[e]||n.some(s=>t[s])||!1}return r.some(n=>t[n])}function Ft({initialDirty:t,initialTouched:e,mode:r,$values:n}){const[s,o]=d.useState(e),[i,u]=d.useState(t),c=d.useRef(e),l=d.useRef(t),m=d.useCallback(y=>{const V=typeof y=="function"?y(c.current):y;c.current=V,r==="controlled"&&o(V)},[]),b=d.useCallback((y,V=!1)=>{const j=typeof y=="function"?y(l.current):y;l.current=j,(r==="controlled"||V)&&u(j)},[]),S=d.useCallback(()=>m({}),[]),E=d.useCallback(y=>{const V=y?{...y,...n.refValues.current}:n.refValues.current;n.setValuesSnapshot(V),b({})},[]),_=d.useCallback((y,V)=>{m(j=>ce(j,y)===V?j:{...j,[y]:V})},[]),a=d.useCallback((y,V,j)=>{b(k=>ce(k,y)===V?k:{...k,[y]:V},j)},[]),f=d.useCallback((y,V)=>{const j=ce(l.current,y),k=!de(N(y,n.getValuesSnapshot()),V),O=Ee(y,l.current);O[y]=k,b(O,j!==k)},[]),h=d.useCallback(y=>ce(c.current,y),[]),v=d.useCallback(y=>b(V=>{if(typeof y!="string")return V;const j=Ee(y,V);return delete j[y],de(j,V)?V:j}),[]),g=d.useCallback(y=>{if(y){const j=N(y,l.current);if(typeof j=="boolean")return j;const k=N(y,n.refValues.current),O=N(y,n.valuesSnapshot.current);return!de(k,O)}return Object.keys(l.current).length>0?ce(l.current):!de(n.refValues.current,n.valuesSnapshot.current)},[]),F=d.useCallback(()=>l.current,[]),$=d.useCallback(()=>c.current,[]);return{touchedState:s,dirtyState:i,touchedRef:c,dirtyRef:l,setTouched:m,setDirty:b,resetDirty:E,resetTouched:S,isTouched:h,setFieldTouched:_,setFieldDirty:a,setTouchedState:o,setDirtyState:u,clearFieldDirty:v,isDirty:g,getDirty:F,getTouched:$,setCalculatedFieldDirty:f}}function wt({initialValues:t,onValuesChange:e,mode:r}){const n=d.useRef(!1),[s,o]=d.useState(t||{}),i=d.useRef(s),u=d.useRef(s),c=d.useCallback(({values:a,subscribers:f,updateState:h=!0,mergeWithPreviousValues:v=!0})=>{const g=i.current,F=a instanceof Function?a(i.current):a,$=v?{...g,...F}:F;i.current=$,h&&o($),e==null||e($,g),f==null||f.filter(Boolean).forEach(y=>y({updatedValues:$,previousValues:g}))},[e]),l=d.useCallback(a=>{var v;const f=N(a.path,i.current),h=a.value instanceof Function?a.value(f):a.value;if(f!==h){const g=i.current,F=ae(a.path,h,i.current);c({values:F,updateState:a.updateState}),(v=a.subscribers)==null||v.filter(Boolean).forEach($=>$({path:a.path,updatedValues:F,previousValues:g}))}},[c]),m=d.useCallback(a=>{u.current=a},[]),b=d.useCallback((a,f)=>{n.current||(n.current=!0,c({values:a,updateState:r==="controlled"}),m(a),f())},[c]),S=d.useCallback(()=>{c({values:u.current,updateState:!0,mergeWithPreviousValues:!1})},[c]),E=d.useCallback(()=>i.current,[]),_=d.useCallback(()=>u.current,[]);return{initialized:n,stateValues:s,refValues:i,valuesSnapshot:u,setValues:c,setFieldValue:l,resetValues:S,setValuesSnapshot:m,initialize:b,getValues:E,getValuesSnapshot:_}}function $t({$status:t}){const e=d.useRef({}),r=d.useCallback((s,o)=>{d.useEffect(()=>(e.current[s]=e.current[s]||[],e.current[s].push(o),()=>{e.current[s]=e.current[s].filter(i=>i!==o)}),[o])},[]),n=d.useCallback(s=>e.current[s]?e.current[s].map(o=>i=>o({previousValue:N(s,i.previousValues),value:N(s,i.updatedValues),touched:t.isTouched(s),dirty:t.isDirty(s)})):[],[]);return{subscribers:e,watch:r,getFieldSubscribers:n}}function Ae(t,e){return t?`${t}-${e.toString()}`:e.toString()}function Te(t){const e=ve(t);return{hasErrors:Object.keys(e).length>0,errors:e}}function _e(t,e,r="",n={}){return typeof t!="object"||t===null?n:Object.keys(t).reduce((s,o)=>{const i=t[o],u=`${r===""?"":`${r}.`}${o}`,c=N(u,e);let l=!1;return typeof i=="function"&&(s[u]=i(c,e,u)),typeof i=="object"&&Array.isArray(c)&&(l=!0,c.forEach((m,b)=>_e(i,e,`${u}.${b}`,s))),typeof i=="object"&&typeof c=="object"&&c!==null&&(l||_e(i,e,u,s)),s},n)}function Ve(t,e){return Te(typeof t=="function"?t(e):_e(t,e))}function fe(t,e,r){if(typeof t!="string")return{hasError:!1,error:null};const n=Ve(e,r),s=Object.keys(n.errors).find(o=>t.split(".").every((i,u)=>i===o.split(".")[u]));return{hasError:!!s,error:s?n.errors[s]:null}}const Ct="__MANTINE_FORM_INDEX__";function Le(t,e){return e?typeof e=="boolean"?e:Array.isArray(e)?e.includes(t.replace(/[.][0-9]+/g,`.${Ct}`)):!1:!1}function Pt({name:t,mode:e="controlled",initialValues:r,initialErrors:n={},initialDirty:s={},initialTouched:o={},clearInputErrorOnChange:i=!0,validateInputOnChange:u=!1,validateInputOnBlur:c=!1,onValuesChange:l,transformValues:m=a=>a,enhanceGetInputProps:b,validate:S,onSubmitPreventDefault:E="always",touchTrigger:_="change"}={}){const a=gt(n),f=wt({initialValues:r,onValuesChange:l,mode:e}),h=Ft({initialDirty:s,initialTouched:o,$values:f,mode:e}),v=Vt({$values:f,$errors:a,$status:h}),g=$t({$status:h}),[F,$]=d.useState(0),[y,V]=d.useState({}),[j,k]=d.useState(!1),O=d.useCallback(()=>{f.resetValues(),a.clearErrors(),h.resetDirty(),h.resetTouched(),e==="uncontrolled"&&$(p=>p+1)},[]),M=d.useCallback(p=>{i&&a.clearErrors(),e==="uncontrolled"&&$(I=>I+1),Object.keys(g.subscribers.current).forEach(I=>{const w=N(I,f.refValues.current),A=N(I,p);w!==A&&g.getFieldSubscribers(I).forEach(B=>B({previousValues:p,updatedValues:f.refValues.current}))})},[i]),K=d.useCallback(p=>{const I=f.refValues.current;f.initialize(p,()=>e==="uncontrolled"&&$(w=>w+1)),M(I)},[M]),R=d.useCallback((p,I,w)=>{const A=Le(p,u),B=I instanceof Function?I(N(p,f.refValues.current)):I;h.setCalculatedFieldDirty(p,B),_==="change"&&h.setFieldTouched(p,!0),!A&&i&&a.clearFieldError(p),f.setFieldValue({path:p,value:I,updateState:e==="controlled",subscribers:[...g.getFieldSubscribers(p),A?ie=>{const q=fe(p,S,ie.updatedValues);q.hasError?a.setFieldError(p,q.error):a.clearFieldError(p)}:null,(w==null?void 0:w.forceUpdate)!==!1&&e!=="controlled"?()=>V(ie=>({...ie,[p]:(ie[p]||0)+1})):null]})},[l,S]),z=d.useCallback(p=>{const I=f.refValues.current;f.setValues({values:p,updateState:e==="controlled"}),M(I)},[l,M]),Z=d.useCallback(()=>{const p=Ve(S,f.refValues.current);return a.setErrors(p.errors),p},[S]),J=d.useCallback(p=>{const I=fe(p,S,f.refValues.current);return I.hasError?a.setFieldError(p,I.error):a.clearFieldError(p),I},[S]),Y=(p,{type:I="input",withError:w=!0,withFocus:A=!0,...B}={})=>{const q={onChange:bt(ue=>R(p,ue,{forceUpdate:!1})),"data-path":Ae(t,p)};return w&&(q.error=a.errorsState[p]),I==="checkbox"?q[e==="controlled"?"checked":"defaultChecked"]=N(p,f.refValues.current):q[e==="controlled"?"value":"defaultValue"]=N(p,f.refValues.current),A&&(q.onFocus=()=>h.setFieldTouched(p,!0),q.onBlur=()=>{if(Le(p,c)){const ue=fe(p,S,f.refValues.current);ue.hasError?a.setFieldError(p,ue.error):a.clearFieldError(p)}}),Object.assign(q,b==null?void 0:b({inputProps:q,field:p,options:{type:I,withError:w,withFocus:A,...B},form:oe}))},G=(p,I)=>w=>{E==="always"&&(w==null||w.preventDefault());const A=Z();if(A.hasErrors)E==="validation-failed"&&(w==null||w.preventDefault()),I==null||I(A.errors,f.refValues.current,w);else{const B=p==null?void 0:p(m(f.refValues.current),w);B instanceof Promise&&(k(!0),B.finally(()=>k(!1)))}},U=p=>m(p||f.refValues.current),P=d.useCallback(p=>{p.preventDefault(),O()},[]),ee=d.useCallback(p=>p?!fe(p,S,f.refValues.current).hasError:!Ve(S,f.refValues.current).hasErrors,[S]),x=p=>`${F}-${p}-${y[p]||0}`,te=d.useCallback(p=>document.querySelector(`[data-path="${Ae(t,p)}"]`),[]),oe={watch:g.watch,initialized:f.initialized.current,values:f.stateValues,getValues:f.getValues,setInitialValues:f.setValuesSnapshot,initialize:K,setValues:z,setFieldValue:R,submitting:j,setSubmitting:k,errors:a.errorsState,setErrors:a.setErrors,setFieldError:a.setFieldError,clearFieldError:a.clearFieldError,clearErrors:a.clearErrors,resetDirty:h.resetDirty,setTouched:h.setTouched,setDirty:h.setDirty,isTouched:h.isTouched,resetTouched:h.resetTouched,isDirty:h.isDirty,getTouched:h.getTouched,getDirty:h.getDirty,reorderListItem:v.reorderListItem,insertListItem:v.insertListItem,removeListItem:v.removeListItem,replaceListItem:v.replaceListItem,reset:O,validate:Z,validateField:J,getInputProps:Y,onSubmit:G,onReset:P,isValid:ee,getTransformedValues:U,key:x,getInputNode:te};return mt(t,oe),oe}function Dt(t){const e=Pt(t),{errors:r,setData:n,data:s,...o}=Qe();return d.useEffect(()=>{n(e.values)}),d.useEffect(()=>{e.setErrors(r)},[r,e]),{...o,...e,data:s}}export{we as C,W as I,We as a,ye as b,it as c,Dt as u};
