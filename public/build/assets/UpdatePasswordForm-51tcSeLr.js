import{r as d,j as s,B as p,n as l}from"./app-f26vJc_D.js";import{u as m,C as c}from"./use-request-C4MuOANG.js";import{P as r}from"./PasswordInput-BmDw7Wzh.js";import{z as w}from"./transition-BOui8hBy.js";import"./ActionIcon-DFzxWfsl.js";function b(){const t=d.useRef(null),a=d.useRef(null),e=m({initialValues:{current_password:"",password:"",password_confirmation:""}}),u=()=>{e.put(route("password.update"),{preserveScroll:!0,onSuccess:()=>{l.show({title:"Update password berhasil",message:"Simpan dan ingat password Anda untuk login berikutnya"}),e.reset()},onError:o=>{var n,i;o.password&&(e.setFieldError("password","Kredential tidak cocok, coba kembali"),e.setFieldError("password_confirmation","Kredential tidak cocok, coba kembali"),(n=t.current)==null||n.focus()),o.current_password&&(e.setFieldValue("current_password",""),e.setFieldError("current_password","Kredential tidak cocok, coba kembali"),(i=a.current)==null||i.focus())}})};return s.jsx(s.Fragment,{children:s.jsxs(c,{withBorder:!0,children:[s.jsxs(c.Section,{className:"px-6 py-4 sm:py-8 lg:px-8",withBorder:!0,children:[s.jsx("h2",{className:"text-lg font-medium",children:"Update Password"}),s.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Ensure your account is using a long, random password to stay secure."})]}),s.jsx("div",{className:"px-6 py-4 sm:py-8 lg:px-8",children:s.jsxs("form",{onSubmit:e.onSubmit(u),className:"mt-6 space-y-6",children:[s.jsx(r,{...e.getInputProps("current_password"),label:"Current password",required:!0,ref:a}),s.jsx(r,{...e.getInputProps("password"),label:"New password",required:!0,ref:t}),s.jsx(r,{...e.getInputProps("password_confirmation"),label:"Confirm Password",required:!0}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(p,{loading:e.processing,type:"submit",children:"Save"}),s.jsx(w,{show:e.recentlySuccessful,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:s.jsx("p",{className:"text-sm text-gray-600",children:"Saved."})})]})]})})]})})}export{b as default};
